/* @ngInject */
export default class NowPlayingCtrl {
    /* @ngInject */
    // constructor (YoutubePlayerSettings, UserPlaylists) {
    constructor (UserPlaylists) {
        /*jshint validthis: true */
        this.YoutubePlayerSettings = { 
            playVideoId: angular.noop, 
            remove: angular.noop, 
            nowPlaylist: [{"kind":"youtube#video","etag":"\"0KG1mRN7bm3nResDPKHQZpg5-do/baXmtPBQjREgCRA2XW-OO64HS_Q\"","id":"6KYckRkIuAM","snippet":{"publishedAt":"2015-07-09T22:30:00.000Z","channelId":"UCb8nSXWYje82OQ62NZbw2tw","title":"Smooth Funk #4 Guitar Backing Track Dm 110 Bpm Highest Quality","description":"Hi,Here is a new Backing Track!!!  Download: vol.1,2,3 and 4 of Guitar&Bass Backing Tracks: \nhttps://itunes.apple.com/it/artist/av-music/id878133833\n\nSUBSCRIBE TO MY MAILING LIST: http://www.astonevito.it\n\nSubscribe, share, comment, play for more BT!!!! ;-)  Enjoy it! \n\nFACEBOOK: http://www.facebook.com/pages/Vito-Astone/134867149901564\nTWITTER: https://twitter.com/AstoneVito\nGOOGLE+:https://plus.google.com/u/0/107536502442147192119\nOFFICIAL SITE: https://www.astonevito.it (Arranger-Composer-RecordingStudio)\n\nAll Rights Reserved  (Only for use jamming, fun, improvvisation, study)\nOriginal composition produced and played by VitoAstone.\n\n\n\n\n\n\n\n\n\n\nBackingTrack of all genre Smooth Funk,Blues,Rock,Heavy,Metal,Acoustic,Ballad,Pop,Dance,Electro,\nArrangiatore,Arrangiamenti,Producer,Composer,Drum,bass,guitar, \nArrangement,Composition, Production","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/6KYckRkIuAM/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/6KYckRkIuAM/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/6KYckRkIuAM/hqdefault.jpg","width":480,"height":360},"standard":{"url":"https://i.ytimg.com/vi/6KYckRkIuAM/sddefault.jpg","width":640,"height":480},"maxres":{"url":"https://i.ytimg.com/vi/6KYckRkIuAM/maxresdefault.jpg","width":1280,"height":720}},"channelTitle":"Vito Astone","tags":["Lounge","summer","Music","BackingTrack","Rock","Blues","Pop","HipHop","Funk","jazz","Soul","Dance","Electro","Ballad","Metal","Heavy","Alternative","Punk","Hit","Official","Jamtracks","Arrangement","Arrangiamenti","Arranger","Composer","Producer","Composition","Production","Lesson","Pink floyd","John Mayer","Live","Drum","bass","guitar","background music","jack thammarat","Guitar Idol","Riff","The Best","Steve Vai","Stevie Ray Vaughan","Tabs","Taylor Swift","Metallica","Drake","LilWayne","Guitar hero"],"categoryId":"10","liveBroadcastContent":"none","localized":{"title":"Smooth Funk #4 Guitar Backing Track Dm 110 Bpm Highest Quality","description":"Hi,Here is a new Backing Track!!!  Download: vol.1,2,3 and 4 of Guitar&Bass Backing Tracks: \nhttps://itunes.apple.com/it/artist/av-music/id878133833\n\nSUBSCRIBE TO MY MAILING LIST: http://www.astonevito.it\n\nSubscribe, share, comment, play for more BT!!!! ;-)  Enjoy it! \n\nFACEBOOK: http://www.facebook.com/pages/Vito-Astone/134867149901564\nTWITTER: https://twitter.com/AstoneVito\nGOOGLE+:https://plus.google.com/u/0/107536502442147192119\nOFFICIAL SITE: https://www.astonevito.it (Arranger-Composer-RecordingStudio)\n\nAll Rights Reserved  (Only for use jamming, fun, improvvisation, study)\nOriginal composition produced and played by VitoAstone.\n\n\n\n\n\n\n\n\n\n\nBackingTrack of all genre Smooth Funk,Blues,Rock,Heavy,Metal,Acoustic,Ballad,Pop,Dance,Electro,\nArrangiatore,Arrangiamenti,Producer,Composer,Drum,bass,guitar, \nArrangement,Composition, Production"}},"contentDetails":{"duration":"PT4M49S","dimension":"2d","definition":"hd","caption":"false","licensedContent":true},"statistics":{"viewCount":"16809","likeCount":"137","dislikeCount":"0","favoriteCount":"0","commentCount":"22"},"time":"04:49"},{"kind":"youtube#video","etag":"\"0KG1mRN7bm3nResDPKHQZpg5-do/gj47-gT1oTW-Jzb6RX3oXq3CE7E\"","id":"4M0njWKFsME","snippet":{"publishedAt":"2012-05-13T21:33:38.000Z","channelId":"UCxbZUJrYSGgBuz1E0v6jRpA","title":"C minor rock power ballad guitar backing track","description":"Hey guys! Sorry I haven't uploaded any tracks in a while. I made this one today and I hope you enjoy playing over it as much as I did :)\nThanks for all the amazing support so far!\nHappy shreddin'!","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/4M0njWKFsME/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/4M0njWKFsME/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/4M0njWKFsME/hqdefault.jpg","width":480,"height":360},"standard":{"url":"https://i.ytimg.com/vi/4M0njWKFsME/sddefault.jpg","width":640,"height":480},"maxres":{"url":"https://i.ytimg.com/vi/4M0njWKFsME/maxresdefault.jpg","width":1280,"height":720}},"channelTitle":"258lemons","tags":["guitar","solo","john petrucci","ballad","rock","backing track","258lemons"],"categoryId":"10","liveBroadcastContent":"none","localized":{"title":"C minor rock power ballad guitar backing track","description":"Hey guys! Sorry I haven't uploaded any tracks in a while. I made this one today and I hope you enjoy playing over it as much as I did :)\nThanks for all the amazing support so far!\nHappy shreddin'!"}},"contentDetails":{"duration":"PT4M18S","dimension":"2d","definition":"hd","caption":"false","licensedContent":false},"statistics":{"viewCount":"1587038","likeCount":"5034","dislikeCount":"72","favoriteCount":"0","commentCount":"583"},"time":"04:18"},{"kind":"youtube#video","etag":"\"0KG1mRN7bm3nResDPKHQZpg5-do/457qjPPc__yuyn2_foeUjTkfFOo\"","id":"dv7KB-TT4EY","snippet":{"publishedAt":"2013-05-12T01:43:42.000Z","channelId":"UCky5LwyYj8UNF5brwENilIw","title":"Blues & Soul Guitar Backing Track In E Minor","description":"High Quality Copies - http://tombaileymusic.com/product/blues-soul-guitar-backing-track-in-e-minor/\nInformation on licences and using my music commercially - http://tombaileymusic.com/using-my-music/\nFacebook - https://www.facebook.com/tombaileymusic\nTwitter - https://twitter.com/tombaileymusic\n\n© Tom Bailey owns all the copyright to all of the tracks on his youtube therefore you may only use them under the laws of copyright.\nPlease do not attempt to sell or Claim copyright on this song.","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/dv7KB-TT4EY/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/dv7KB-TT4EY/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/dv7KB-TT4EY/hqdefault.jpg","width":480,"height":360},"standard":{"url":"https://i.ytimg.com/vi/dv7KB-TT4EY/sddefault.jpg","width":640,"height":480}},"channelTitle":"guitarbackingtracks4","tags":["guitarbackingtracks4","tom","ian","bailey","music","jam","track","instrumental","rock","acoustic","indie","metal","piano","folk","freestyle","rap","backing","solo","improvisation","key","minor","major","mixolydian","dorian","lydian","modes","london","production","logic","pro","Mbox","mini","box2","Blues (Musical Genre)","Solo (music)","Acoustic Music (Musical Genre)","Blues Soul","Lesson","Guitar"],"categoryId":"10","liveBroadcastContent":"none","localized":{"title":"Blues & Soul Guitar Backing Track In E Minor","description":"High Quality Copies - http://tombaileymusic.com/product/blues-soul-guitar-backing-track-in-e-minor/\nInformation on licences and using my music commercially - http://tombaileymusic.com/using-my-music/\nFacebook - https://www.facebook.com/tombaileymusic\nTwitter - https://twitter.com/tombaileymusic\n\n© Tom Bailey owns all the copyright to all of the tracks on his youtube therefore you may only use them under the laws of copyright.\nPlease do not attempt to sell or Claim copyright on this song."}},"contentDetails":{"duration":"PT3M56S","dimension":"2d","definition":"sd","caption":"false","licensedContent":true},"statistics":{"viewCount":"806021","likeCount":"2262","dislikeCount":"63","favoriteCount":"0","commentCount":"201"},"time":"03:56"},{"kind":"youtube#video","etag":"\"0KG1mRN7bm3nResDPKHQZpg5-do/k3hH1phPmIFC8UjIyNbdxZeljhc\"","id":"fhomyPdETTk","snippet":{"publishedAt":"2015-08-27T13:33:59.000Z","channelId":"UCky5LwyYj8UNF5brwENilIw","title":"Slow Acoustic Piano Guitar Backing Track In A Minor","description":"High Quality Copies - http://tombaileymusic.com/product/slow-acoustic-piano-guitar-backing-track-in-a-minor/\nInformation on licences and using my music commercially - http://tombaileymusic.com/using-my-music/\nFacebook - https://www.facebook.com/tombaileymusic\nTwitter - https://twitter.com/tombaileymusic\n\n© Tom Bailey owns all the copyright to all of the tracks on his youtube therefore you may only use them under the laws of copyright.\nPlease do not attempt to sell or Claim copyright on this song.","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/fhomyPdETTk/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/fhomyPdETTk/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/fhomyPdETTk/hqdefault.jpg","width":480,"height":360},"standard":{"url":"https://i.ytimg.com/vi/fhomyPdETTk/sddefault.jpg","width":640,"height":480},"maxres":{"url":"https://i.ytimg.com/vi/fhomyPdETTk/maxresdefault.jpg","width":1280,"height":720}},"channelTitle":"guitarbackingtracks4","tags":["guitarbackingtracks4","tombaileymusic","music","jam","track","instrumental","rock","acoustic","indie","metal","piano","folk","freestyle","rap","backing","solo","improvisation","key","minor","major","mixolydian","dorian","lydian","modes","london","production","logic","pro","Slow Acoustic Piano Guitar Backing Track In A Minor","logic prox","A Minor (Musical Scale)","Acoustic Music (Musical Genre)","Minor Scale (Musical Scale)","Acoustic (Musical Album)"],"categoryId":"10","liveBroadcastContent":"none","localized":{"title":"Slow Acoustic Piano Guitar Backing Track In A Minor","description":"High Quality Copies - http://tombaileymusic.com/product/slow-acoustic-piano-guitar-backing-track-in-a-minor/\nInformation on licences and using my music commercially - http://tombaileymusic.com/using-my-music/\nFacebook - https://www.facebook.com/tombaileymusic\nTwitter - https://twitter.com/tombaileymusic\n\n© Tom Bailey owns all the copyright to all of the tracks on his youtube therefore you may only use them under the laws of copyright.\nPlease do not attempt to sell or Claim copyright on this song."}},"contentDetails":{"duration":"PT4M13S","dimension":"2d","definition":"hd","caption":"false","licensedContent":true},"statistics":{"viewCount":"24224","likeCount":"181","dislikeCount":"3","favoriteCount":"0","commentCount":"14"},"time":"04:13"},{"kind":"youtube#video","etag":"\"0KG1mRN7bm3nResDPKHQZpg5-do/Zs8uUkRzxG90_UcQQc144HxkxbM\"","id":"JLtwnGYgAkI","snippet":{"publishedAt":"2011-12-28T04:18:13.000Z","channelId":"UCoh7VNx7dsUfs3IltcfCCeA","title":"Rock Ballad Guitar Backing Track in D minor","description":"DO NOT SUBSCRIBE, I DON'T UPLOAD BACKING TRACKS! CHECK MY CHANNEL AND IF YOU LIKE MY GUITAR COVERS THEN SUBSCRIBE! I DID NOT CREATE THIS\nDownload it for free: http://www.mediafire.com/?7r8odbbfwgf7pea\nJust found some nice backing tracks today and I wanted to share some of them with you.\nCheck my channel for GUITAR COVERS \nFacebook: https://facebook.com/Stealthisguitar98","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/JLtwnGYgAkI/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/JLtwnGYgAkI/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/JLtwnGYgAkI/hqdefault.jpg","width":480,"height":360},"standard":{"url":"https://i.ytimg.com/vi/JLtwnGYgAkI/sddefault.jpg","width":640,"height":480},"maxres":{"url":"https://i.ytimg.com/vi/JLtwnGYgAkI/maxresdefault.jpg","width":1280,"height":720}},"channelTitle":"StealThisGuitar98","tags":["Guitar","Ballad","Backing Track","ROCK","BALLAD"],"categoryId":"10","liveBroadcastContent":"none","localized":{"title":"Rock Ballad Guitar Backing Track in D minor","description":"DO NOT SUBSCRIBE, I DON'T UPLOAD BACKING TRACKS! CHECK MY CHANNEL AND IF YOU LIKE MY GUITAR COVERS THEN SUBSCRIBE! I DID NOT CREATE THIS\nDownload it for free: http://www.mediafire.com/?7r8odbbfwgf7pea\nJust found some nice backing tracks today and I wanted to share some of them with you.\nCheck my channel for GUITAR COVERS \nFacebook: https://facebook.com/Stealthisguitar98"}},"contentDetails":{"duration":"PT4M6S","dimension":"2d","definition":"hd","caption":"false","licensedContent":false},"statistics":{"viewCount":"988218","likeCount":"2130","dislikeCount":"61","favoriteCount":"0","commentCount":"8"},"time":"04:06"},{"kind":"youtube#video","etag":"\"NA_P7zd7LFbUU1ltSVrtwDk6-R4/3iNDQI5XyCKS02cLNLq41GWksk8\"","id":"IN7TITDPuMo","snippet":{"publishedAt":"2015-08-08T01:30:13.000Z","channelId":"UCnP1vGxlfApJPwgAHsRSV2A","title":"Every Dream Theater album at the same time","description":"because","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/IN7TITDPuMo/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/IN7TITDPuMo/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/IN7TITDPuMo/hqdefault.jpg","width":480,"height":360},"standard":{"url":"https://i.ytimg.com/vi/IN7TITDPuMo/sddefault.jpg","width":640,"height":480},"maxres":{"url":"https://i.ytimg.com/vi/IN7TITDPuMo/maxresdefault.jpg","width":1280,"height":720}},"channelTitle":"Genome","tags":["Dream Theater (Musical Group)","Progressive Metal (Musical Genre)","Progressive Rock (Musical Genre)","Metal (Visual Art Medium)"],"categoryId":"10","liveBroadcastContent":"none","localized":{"title":"Every Dream Theater album at the same time","description":"because"},"defaultAudioLanguage":"en"},"contentDetails":{"duration":"PT1H17M17S","dimension":"2d","definition":"hd","caption":"false","licensedContent":false},"statistics":{"viewCount":"7679","likeCount":"121","dislikeCount":"9","favoriteCount":"0","commentCount":"36"},"time":"01:17:17"}],
            nowPlaying: {
                mediaId: '',
                index: 0,
                media: {},
                showPlayer: false
            }
        };
        let YoutubePlayerSettings = this.YoutubePlayerSettings;
        // Object.assign(this, { YoutubePlayerSettings, UserPlaylists });
        Object.assign(this, { UserPlaylists });
        this.playlist = YoutubePlayerSettings.nowPlaylist;
        this.nowPlaying = YoutubePlayerSettings.nowPlaying;
        this.playlistSearch = '';
        this.showPlaylistSaver = false;
    }

    removeVideo($event, video, $index) {
        $event.stopPropagation();
        this.YoutubePlayerSettings.remove(video, $index);
    }

    playVideo (video, index) {
        this.nowPlaying.index = index;
        this.YoutubePlayerSettings.playVideoId(video);
    }

    togglePlaylistSaver() {
        this.showPlaylistSaver = !this.showPlaylistSaver;
    }

    onPlaylistSave () {
        this.togglePlaylistSaver();
        this.UserPlaylists.list();
    }

    updateIndex ($item, $indexTo) {
        if ($item.id === this.nowPlaying.media.id) {
            this.nowPlaying.index = $indexTo;
        }
    }
}